
#include "JT808/MessageBody/LocationDataBulkUpload.h"
#include "JT808/MessageBody/LocationInformation.h"
#include "MessageBodyBaseTest.h"
#include <gtest/gtest.h>
#include <vector>

namespace JT808::MessageBody {
class LocationDataBulkUploadTest : public MessageBodyBaseTest<LocationDataBulkUpload>
{
protected:
    void SetUp() override
    {
        std::vector<LocationInformation> const locations = {
            {{.value = 12345}, {.value = 54321}, 10755241, 1066569743, 10, 25, 45, "700101000000"},
            {{.value = 12345}, {.value = 54321}, 10755241, 1066569743, 10, 25, 45, "700101000000"},
            {{.value = 12345}, {.value = 54321}, 10755241, 1066569743, 10, 25, 45, "700101000000"},
            {{.value = 12345}, {.value = 54321}, 10755241, 1066569743, 10, 25, 45, "700101000000"},
            {{.value = 12345}, {.value = 54321}, 10755241, 1066569743, 10, 25, 45, "700101000000"}};

        m_body = new LocationDataBulkUpload(LocationDataBulkUpload::RegularReport, locations);
        m_rawData = {0x0,  0x5,  0x0,  0x0,  0x1c, 0x0,  0x0,  0x30, 0x39, 0x0,  0x0,  0xd4, 0x31, 0x0,  0xa4, 0x1c,
                     0xa9, 0x3f, 0x92, 0x90, 0xf,  0x0,  0xa,  0x0,  0x19, 0x0,  0x2d, 0x70, 0x1,  0x1,  0x0,  0x0,
                     0x0,  0x0,  0x1c, 0x0,  0x0,  0x30, 0x39, 0x0,  0x0,  0xd4, 0x31, 0x0,  0xa4, 0x1c, 0xa9, 0x3f,
                     0x92, 0x90, 0xf,  0x0,  0xa,  0x0,  0x19, 0x0,  0x2d, 0x70, 0x1,  0x1,  0x0,  0x0,  0x0,  0x0,
                     0x1c, 0x0,  0x0,  0x30, 0x39, 0x0,  0x0,  0xd4, 0x31, 0x0,  0xa4, 0x1c, 0xa9, 0x3f, 0x92, 0x90,
                     0xf,  0x0,  0xa,  0x0,  0x19, 0x0,  0x2d, 0x70, 0x1,  0x1,  0x0,  0x0,  0x0,  0x0,  0x1c, 0x0,
                     0x0,  0x30, 0x39, 0x0,  0x0,  0xd4, 0x31, 0x0,  0xa4, 0x1c, 0xa9, 0x3f, 0x92, 0x90, 0xf,  0x0,
                     0xa,  0x0,  0x19, 0x0,  0x2d, 0x70, 0x1,  0x1,  0x0,  0x0,  0x0,  0x0,  0x1c, 0x0,  0x0,  0x30,
                     0x39, 0x0,  0x0,  0xd4, 0x31, 0x0,  0xa4, 0x1c, 0xa9, 0x3f, 0x92, 0x90, 0xf,  0x0,  0xa,  0x0,
                     0x19, 0x0,  0x2d, 0x70, 0x1,  0x1,  0x0,  0x0,  0x0};
    }
};

TEST_F(LocationDataBulkUploadTest, TestParseSuccess)
{
    TestParse();
}

TEST_F(LocationDataBulkUploadTest, TestPackage)
{
    TestPackage();
}

}
